{"ast":null,"code":"import _classCallCheck from\"D:\\\\Work\\\\AccionSocial\\\\app\\\\frontend\\\\accion_social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Work\\\\AccionSocial\\\\app\\\\frontend\\\\accion_social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Work\\\\AccionSocial\\\\app\\\\frontend\\\\accion_social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Work\\\\AccionSocial\\\\app\\\\frontend\\\\accion_social\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{useState}from'react';import axios from'axios';import{setUserSession}from'../utils/Commons';var API_PATH='http://localhost/accion_social/backend';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={usuario:'',clave:'',loading:false,error:null};_this.handleFormSubmit=function(e){//const config = {headers : {\"Access-Control-Allow-Origin\":\"*\"}};\naxios({method:'post',url:\"\".concat(API_PATH,\"/login\"),headers:{'content-type':'application/json'},data:{user:_this.state.usuario,pass:_this.state.clave}}).then(function(response){if(response.data.error){_this.setState({error:response.data.error});}else{_this.setState({loading:false});setUserSession(response.data.token,response.data.user);//this.props.history.push('/accion_social');\nvar loggedIn=true;_this.props.onLoggedIn(loggedIn);}}).catch(function(error){console.error(error);});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Acci\\xF3n Social - Inicio de Sesi\\xF3n\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Usuario\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"txtUsuario\",name:\"usuario\",placeholder:\"Usuario\",value:this.state.usuario,onChange:function onChange(e){return _this2.setState({usuario:e.target.value});}}),/*#__PURE__*/React.createElement(\"label\",null,\"Contrase\\xF1a\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"txtClave\",name:\"clave\",placeholder:\"Contrase\\xF1a\",value:this.state.clave,onChange:function onChange(e){return _this2.setState({clave:e.target.value});}}))),this.state.error&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"small\",{style:{color:'red'}},this.state.error),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",value:this.state.loading?'Cargando...':'Ingresar',onClick:this.handleFormSubmit,disabled:this.state.loading}),/*#__PURE__*/React.createElement(\"br\",null));}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["D:/Work/AccionSocial/app/frontend/accion_social/src/paginas/Login.js"],"names":["React","useState","axios","setUserSession","API_PATH","Login","state","usuario","clave","loading","error","handleFormSubmit","e","method","url","headers","data","user","pass","then","response","setState","token","loggedIn","props","onLoggedIn","catch","console","target","value","color","Component"],"mappings":"grBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,cAAT,KAA+B,kBAA/B,CAEA,GAAMC,CAAAA,QAAQ,CAAG,wCAAjB,C,GAEMC,CAAAA,K,mUAEFC,K,CAAQ,CACAC,OAAO,CAAE,EADT,CAEAC,KAAK,CAAE,EAFP,CAGAC,OAAO,CAAE,KAHT,CAIAC,KAAK,CAAE,IAJP,C,OAORC,gB,CAAmB,SAAAC,CAAC,CAAI,CACpB;AACAV,KAAK,CAAC,CACFW,MAAM,CAAE,MADN,CAEFC,GAAG,WAAKV,QAAL,UAFD,CAGFW,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAHP,CAIFC,IAAI,CAAE,CAAEC,IAAI,CAAE,MAAKX,KAAL,CAAWC,OAAnB,CAA4BW,IAAI,CAAE,MAAKZ,KAAL,CAAWE,KAA7C,CAJJ,CAAD,CAAL,CAMKW,IANL,CAMW,SAAAC,QAAQ,CAAI,CACG,GAAIA,QAAQ,CAACJ,IAAT,CAAcN,KAAlB,CAAyB,CACrB,MAAKW,QAAL,CAAc,CAACX,KAAK,CAAGU,QAAQ,CAACJ,IAAT,CAAcN,KAAvB,CAAd,EACH,CAFD,IAGK,CACD,MAAKW,QAAL,CAAc,CAACZ,OAAO,CAAC,KAAT,CAAd,EACAN,cAAc,CAACiB,QAAQ,CAACJ,IAAT,CAAcM,KAAf,CAAsBF,QAAQ,CAACJ,IAAT,CAAcC,IAApC,CAAd,CACA;AACA,GAAMM,CAAAA,QAAQ,CAAG,IAAjB,CACA,MAAKC,KAAL,CAAWC,UAAX,CAAsBF,QAAtB,EACH,CACH,CAjBxB,EAkBKG,KAlBL,CAkBY,SAAAhB,KAAK,CAAI,CAAEiB,OAAO,CAACjB,KAAR,CAAcA,KAAd,EAAsB,CAlB7C,EAmBH,C,wEAGQ,iBACL,mBACI,2BAAK,SAAS,CAAC,OAAf,eACI,uEADJ,cAEI,4CACI,6CACI,2CADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,YAAtB,CAAmC,IAAI,CAAC,SAAxC,CAAkD,WAAW,CAAC,SAA9D,CAAwE,KAAK,CAAE,KAAKJ,KAAL,CAAWC,OAA1F,CAAmG,QAAQ,CAAE,kBAAAK,CAAC,QAAI,CAAA,MAAI,CAACS,QAAL,CAAc,CAAEd,OAAO,CAAEK,CAAC,CAACgB,MAAF,CAASC,KAApB,CAAd,CAAJ,EAA9G,EAFJ,cAGI,iDAHJ,cAII,6BAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,IAAI,CAAC,OAA1C,CAAkD,WAAW,CAAC,eAA9D,CAA2E,KAAK,CAAE,KAAKvB,KAAL,CAAWE,KAA7F,CAAoG,QAAQ,CAAE,kBAAAI,CAAC,QAAI,CAAA,MAAI,CAACS,QAAL,CAAc,CAAEb,KAAK,CAAEI,CAAC,CAACgB,MAAF,CAASC,KAAlB,CAAd,CAAJ,EAA/G,EAJJ,CADJ,CAFJ,CAWK,KAAKvB,KAAL,CAAWI,KAAX,eAAoB,qDAAE,6BAAO,KAAK,CAAE,CAAEoB,KAAK,CAAE,KAAT,CAAd,EAAkC,KAAKxB,KAAL,CAAWI,KAA7C,CAAF,cAA8D,8BAA9D,CAXzB,cAWiG,8BAXjG,cAYI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAG,KAAKJ,KAAL,CAAWG,OAAX,CAAqB,aAArB,CAAqC,UAAlE,CAA8E,OAAO,CAAG,KAAKE,gBAA7F,CAAgH,QAAQ,CAAG,KAAKL,KAAL,CAAWG,OAAtI,EAZJ,cAYsJ,8BAZtJ,CADJ,CAgBH,C,mBAlDeT,KAAK,CAAC+B,S,EAoD1B,cAAe1B,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { setUserSession } from '../utils/Commons';\r\n\r\nconst API_PATH = 'http://localhost/accion_social/backend';\r\n\r\nclass Login extends React.Component {\r\n    \r\n    state = {\r\n            usuario: '',\r\n            clave: '',\r\n            loading: false,\r\n            error: null\r\n        };\r\n\r\n    handleFormSubmit = e => {\r\n        //const config = {headers : {\"Access-Control-Allow-Origin\":\"*\"}};\r\n        axios({\r\n            method: 'post',\r\n            url: `${API_PATH}/login`,\r\n            headers: { 'content-type': 'application/json' },\r\n            data: { user: this.state.usuario, pass: this.state.clave }\r\n        })\r\n            .then( response => {\r\n                                  if (response.data.error) {\r\n                                      this.setState({error : response.data.error});\r\n                                  }\r\n                                  else {\r\n                                      this.setState({loading:false});\r\n                                      setUserSession(response.data.token, response.data.user);\r\n                                      //this.props.history.push('/accion_social');\r\n                                      const loggedIn = true;\r\n                                      this.props.onLoggedIn(loggedIn);\r\n                                  }\r\n                               })\r\n            .catch( error => { console.error(error) } );\r\n    };\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Login\">\r\n                <h2>Acci칩n Social - Inicio de Sesi칩n</h2>\r\n                <div>\r\n                    <form>\r\n                        <label>Usuario</label>\r\n                        <input type=\"text\" id=\"txtUsuario\" name=\"usuario\" placeholder=\"Usuario\" value={this.state.usuario} onChange={e => this.setState({ usuario: e.target.value })}/>\r\n                        <label>Contrase침a</label>\r\n                        <input type=\"password\" id=\"txtClave\" name=\"clave\" placeholder=\"Contrase침a\" value={this.state.clave} onChange={e => this.setState({ clave: e.target.value })} />\r\n                        {/*<input type=\"button\" value=\"Ingresar\" onClick={e => this.handleFormSubmit(e)} />*/}\r\n                    </form>\r\n                </div>\r\n                {this.state.error && <><small style={{ color: 'red' }}>{ this.state.error }</small><br /></>}<br />\r\n                <input type=\"button\" value={ this.state.loading ? 'Cargando...' : 'Ingresar'} onClick={ this.handleFormSubmit } disabled={ this.state.loading } /><br />\r\n            </div>\r\n            );\r\n    }\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}